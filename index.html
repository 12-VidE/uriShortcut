<!DOCTYPE html>
<html>
  <head>
	
	<style>
		.center {
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;
		}
		body {
			background-color: black;
			color: white;
			font-size: 20px;
			text-align: center;
		}
		input[type=text] {
			padding: 12px 20px;
			margin: 8px 0;
			box-sizing: border-box;
			border-radius: 10px;
			border-color: white;
			background-color: black;
			color: white;
		}
		button {
			background-color: white;
			color: black;
			padding: 14px 20px;
			margin: 8px 0;
			border-radius: 10px;
			border-color: white;
			cursor: pointer;
		}
	</style>
	<title>uriShortcut</title>
</head>

<body>
	<div class="center">
		<input type="text" id="uri-input" />
	  	<button onclick="goToUri()">Ok</button>
	</div>
	
	<div style="height:200vh; background-color:black; color:white; text-align:center;">
  		<h1>Instructions</h1>
  		<p>Scroll down for instructions.</p>
		<p>Scroll up to go back to the input box and button.</p>
	</div>
</body>

<script>
	function goToUri() {
		const uri = document.getElementById("uri-input").value;
		const url = new URL(window.location.href);
		url.searchParams.set("uri", uri);
		const regex = /:\/\/[^ "]+/;
		if (regex.test(url))
			window.location.href = url.toString();
		else
			alert("Invalid URL");
	}

    if (window.location.search.includes("uri")) {
      const url = new URL(window.location.href);
		const uri = url.searchParams.get("uri");
		window.open(uri);
    }
</script>
